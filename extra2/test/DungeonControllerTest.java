import static org.junit.Assert.assertEquals;

import java.io.StringReader;

import org.junit.Before;
import org.junit.Test;

import dungeonmodel.DungeonConsoleController;
import dungeonmodel.DungeonImpl;
import dungeonmodel.IDungeon;

/**
 * Test cases for the Dungeon controller, using mocks for readable and
 * appendable.
 */
public class DungeonControllerTest {

  IDungeon dungeonNonRandom;

  @Before
  public void setUp() throws Exception {
    int noOfRows = 5;
    int noOfColumns = 5;
    int interConnectivity = 0;
    interConnectivity = 0;
    boolean isWrapping = false;
    boolean isRandom = false;
    int percentageOfTreasure = 20;
    int numberOfOtyugh = 1;
    dungeonNonRandom = new DungeonImpl(noOfRows, noOfColumns, interConnectivity,
        isWrapping, percentageOfTreasure, numberOfOtyugh, isRandom, true, 1);
  }

  protected IDungeon getDungeon(int noOfRows, int noOfColumns, int interConnectivity,
      boolean isWrapping, int percentageOfTreasure, int numberOfOtyugh, boolean isRandom,
      boolean playerWins) {
    IDungeon dungeonModel;
    dungeonModel = new DungeonImpl(noOfRows, noOfColumns, interConnectivity,
        isWrapping, percentageOfTreasure, numberOfOtyugh, isRandom, playerWins, 1);
    return dungeonModel;
  }

  @Test(expected = IllegalStateException.class)
  public void testFailingAppendable() {
    int noOfRows = 5;
    int noOfColumns = 5;
    int interConnectivity = 0;
    interConnectivity = 0;
    boolean isWrapping = false;
    boolean isRandom = false;
    int percentageOfTreasure = 20;
    int numberOfOtyugh = 1;
    IDungeon m = new DungeonImpl(noOfRows, noOfColumns, interConnectivity,
        isWrapping, percentageOfTreasure, numberOfOtyugh, isRandom, true, 1);
    StringReader input = new StringReader("M E M E M E M E S 1 N S 1 N M N");
    Appendable gameLog = new FailingAppendable();
    DungeonConsoleController c = new DungeonConsoleController(input, gameLog);
    c.playGame(m);
  }

  @Test(expected = IllegalArgumentException.class)
  public void testNullModel() {
    DungeonImpl m = null;
    StringReader input = new StringReader("M E M E M E M E S 1 N S 1 N M N");
    StringBuilder gameLog = new StringBuilder();
    DungeonConsoleController c = new DungeonConsoleController(input, gameLog);
    c.playGame(m);
  }

  @Test
  public void testPlayerReachEndWrapping() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 10, true, 10, 3, false, true);
    StringReader input = new StringReader("M E M E M E M E S 1 N S 1 N M N");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a slight howl\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a great howl, seems monster is dead.\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "End location reached\n"
        + "Game is over! Player wins.";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testPlayerReachEndNonWrapping() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 10, false, 10, 3, false, true);
    StringReader input = new StringReader("P ARROW S 1 E S 1 E M E M E M E M E "
        + "M S M S M S M S M S M S M S M S"
        + "S 1 S S 1 S M S");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow, arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a slight howl\n"
        + "\n"
        + "You have Arrow, Arrow, arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a great howl, seems monster is dead.\n"
        + "\n"
        + "You have Arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "Path followed is invalid. Try again\n"
        + "Path followed is invalid. Try again\n"
        + "\n"
        + "\n"
        + "You have Arrow, arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a slight howl\n"
        + "\n"
        + "You have arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "End location reached\n"
        + "Game is over! Player wins.";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testPlayerKillsMonter() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 10, true, 10, 3, false, true);
    StringReader input = new StringReader("S 1 W S 1 W M W M S q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a slight howl\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a great howl, seems monster is dead.\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the E,  W,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  E,  W\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testPlayerGetKilledByMonster() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 10, true, 10, 3, false, true);
    StringReader input = new StringReader("M W q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "Game is over! Player loses.";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testPlayePickingArrow() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 10, true, 10, 3, false, true);
    StringReader input = new StringReader("P ARROW M E P ARROW M E P ARROW q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow, arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow, arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow, arrow, arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow, arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow, arrow, arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, SAPPHIRE, SAPPHIRE here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testPlayePickingTreasure() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 10, true, 10, 3, false, true);
    StringReader input = new StringReader("P DIAMOND P DIAMOND"
        + " P DIAMOND M E M E P SAPPHIRE M E M E M E M E P RUBY q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You have DIAMOND\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You have DIAMOND, DIAMOND\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You have DIAMOND, DIAMOND, DIAMOND\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You have DIAMOND, DIAMOND, DIAMOND\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You have DIAMOND, DIAMOND, DIAMOND\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, SAPPHIRE\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, SAPPHIRE\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, SAPPHIRE\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, SAPPHIRE\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, SAPPHIRE\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find RUBY, RUBY, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, SAPPHIRE, RUBY\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find RUBY, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testPlayeNavigatingDungeon() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 10, true, 10, 3, false, true);
    StringReader input = new StringReader("M E M E M E M S M S M S M S M S M S q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testOtyughNumberOfOtyugh() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 10, true, 10, 2, false, true);
    StringReader input = new StringReader("S 1 W S 1 W M W M N"
        + " M N M S M S M S M S M S M S M S M S M S M N M N M N M N M N M N M N M N M E"
        + " M N M S M S M S M S M S M S M S M S M S M N M N M N M N M N M N M N M N M E"
        + " M N M S M S M S M S M S M S M S M S M S M N M N M N M N M N M N M N M N M E"
        + " M N M S M S M S M S M S M S M S M S M S M N M N M N M N M N M N M N M N M E"
        + " M N M S M S M S M S M S M S M S M S M S M N M N M N M N M N M N M N M N M E"
        + " P ARROW S 1 N S 1 N"
        + " M S M S M S M S M S M S M S M S M S M N M N M N M N M N M N M N M N M E"
        + " M N M S M S M S M S M S M S M S M S M S M N M N M N M N M N M N M N M N M E"
        + " M N M S M S M S M S M S M S M S M S M S M N M N M N M N M N M N M N M N M E"
        + " M N M S M S M S M S M S M S M S M S M S M N M N M N M N M N M N M N M N M E"
        + " M N M S M S M S M S M S M S M S M S M S M N M N M N M N M N M N M N M N M E q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a slight howl\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a great howl, seems monster is dead.\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the E,  W,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "Path followed is invalid. Try again\n"
        + "Path followed is invalid. Try again\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the E,  W,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  E,  W\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the N\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  E,  W\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the E,  W,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the N\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the N\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the N\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the N\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a slight howl\n"
        + "\n"
        + "You have arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a great howl, seems monster is dead.\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the N\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "Path followed is invalid. Try again\n"
        + "Path followed is invalid. Try again\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the N\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find RUBY, RUBY, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find RUBY, RUBY, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the N\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find RUBY, RUBY, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  N,  S,  E\n"
        + "You find RUBY, RUBY, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  N,  S,  E\n"
        + "You find RUBY, RUBY, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the N\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  N,  S,  E\n"
        + "You find RUBY, RUBY, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the E,  N,  S,  W\n"
        + "You find RUBY, RUBY, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the E,  N,  S,  W\n"
        + "You find RUBY, RUBY, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  E\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the N\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  E\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the E,  N,  S,  W\n"
        + "You find RUBY, RUBY, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the E,  W,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testInValidInputForAction() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(5, 5, 0, false, 10, 2, false, true);
    StringReader input = new StringReader("asdf M E q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Not a valid action. Try again\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testInValidInputAfterMoveAction() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(5, 5, 0, false, 10, 2, false, true);
    StringReader input = new StringReader("M 1 E q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "Path followed is invalid. Try again\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testInValidInputAfterMoveAction1() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(5, 5, 0, false, 10, 2, false, true);
    StringReader input = new StringReader("M 1 N W q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "Path followed is invalid. Try again\n"
        + "Path followed is invalid. Try again\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the E,  S\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testInValidMove() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(5, 5, 0, false, 10, 2, false, true);
    StringReader input = new StringReader("M N W q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "Path followed is invalid. Try again\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the E,  S\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testInvalidInputAfterPickup() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(5, 5, 0, false, 20, 2, false, true);
    StringReader input = new StringReader("P ruby diamond q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "Please choose correct item. Try again\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You have DIAMOND\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testInvalidInputAfterShoot() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 10, true, 10, 3, false, true);
    StringReader input = new StringReader("S 6 1 W q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "No. of caves should be (1-5). Try again\n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a slight howl\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testInvalidDirectionAfterShoot() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 10, true, 10, 3, false, true);
    StringReader input = new StringReader("S 6 1 add E q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "No. of caves should be (1-5). Try again\n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "Arrow cannot be throw in given direction. Try again\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testMoveAllDirection() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 10, true, 10, 3, false, true);
    StringReader input = new StringReader("S 1 W M W M E M N M S M S M N M E M W q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a slight howl\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the E,  W,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testInvalidDirectionAfterShoot1() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 10, true, 10, 3, false, true);
    StringReader input = new StringReader("S asdf 1 add E q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "For input string: \"asdf\". Try again\n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "Arrow cannot be throw in given direction. Try again\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testShootInAllDirections() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 10, true, 10, 3, false, true);
    StringReader input = new StringReader("S 1 W S 1 E S 1 N P ARROW S 1 S q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a slight howl\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "\n"
        + "You have Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testArrowinWrongDirection() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 10, false, 10, 3, false, true);
    StringReader input = new StringReader("S 1 N W q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "Arrow cannot be throw in given direction. Try again\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testPickUpIfNoArrow() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 10, false, 10, 3, false, true);
    StringReader input = new StringReader("M S M S P ARROW q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "You find RUBY, RUBY, RUBY here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Pickup item is not allowed \n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Not a valid action. Try again\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testPickUpIfNoDiamond() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 10, false, 10, 3, false, true);
    StringReader input = new StringReader("M S M S P DIAMOND q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "You find RUBY, RUBY, RUBY here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Pickup item is not allowed \n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Not a valid action. Try again\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testShootInWronDirection() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 10, true, 10, 3, false, true);
    StringReader input = new StringReader("S 1 N S 1 N S 6 1 N M W");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "\n"
        + "You have Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "No. of caves should be (1-5). Try again\n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "Game is over! Player loses.";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testArrowinAllDirectionAndNoMoreArrow() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 10, false, 10, 3, false, true);
    StringReader input = new StringReader("S 1 W S 1 W S 1 W S 1 W q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "\n"
        + "You have Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You are out of arrows. Explore to find more\n"
        + "\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testArrowinAllDirectionAndNoMoreArrowFindArrow() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 10, false, 10, 3, false, true);
    StringReader input = new StringReader("S 1 W S 1 W S 1 W S 1 W P ARROW S 1 W q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "\n"
        + "You have Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You are out of arrows. Explore to find more\n"
        + "\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testNumberOfArrowAndItisTunnelAndCaveAndBagUpdated() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 0, true, 20, 3, false, true);
    StringReader input = new StringReader("S 1 W S 1 W S 1 W M W P ARROW M E P"
        + " ARROW M E P ARROW M E P ARROW M E"
        + " P ARROW M E P ARROW M E P ARROW M E P ARROW M E P ARROW M S P ARROW"
        + " M N M W M S P ARROW M N M W M S P ARROW M N M W M S P ARROW M N M W M S P ARROW "
        + "M N M W M S P ARROW M N M W M S P ARROW M N M W M S P ARROW M N M W M S P ARROW "
        + "M N M W P ARROW M S P ARROW q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a slight howl\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a great howl, seems monster is dead.\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the E,  W,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the E,  W,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, SAPPHIRE here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, SAPPHIRE here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow,"
        + " arrow, arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, "
        + "arrow, arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, SAPPHIRE here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow,"
        + " arrow, arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, "
        + "arrow, arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow,"
        + " arrow, arrow, arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow,"
        + " arrow, arrow, arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow,"
        + " arrow, arrow, arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, "
        + "arrow, arrow, arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, "
        + "arrow, arrow, arrow, arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, "
        + "arrow, arrow, arrow, arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, "
        + "arrow, arrow, arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow,"
        + " arrow, arrow, arrow, arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow,"
        + " arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, "
        + "arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow,"
        + " arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, "
        + "arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, "
        + "arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, "
        + "arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, "
        + "arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, "
        + "arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, "
        + "arrow, arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, "
        + "arrow, arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, "
        + "arrow, arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the E,  W,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow,"
        + " arrow, arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, "
        + "arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow,"
        + " arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the E,  W,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, "
        + "arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow,"
        + " arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow,"
        + " arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, "
        + "arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow, arrow\n"
        + "You are in a tunnel\n"
        + "Doors lead to the N,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testMonsterAtOneDistance() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 10, true, 10, 3, false, true);
    StringReader input = new StringReader("M E M E S 3 W S 3 W M W M W M W q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected = "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a slight howl\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a great howl, seems monster is dead.\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the E,  W,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testMonsterAtOneDistance1() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 10, true, 10, 3, false, true);
    StringReader input = new StringReader("S 1 W S 1 W M W q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a slight howl\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a great howl, seems monster is dead.\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the E,  W,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testMonsterAtOneDistance2() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 10, true, 10, 3, false, true);
    StringReader input = new StringReader("M E S 2 W S 2 W M W M W q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a slight howl\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a great howl, seems monster is dead.\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the E,  W,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testMonsterAtOneDistance4() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 10, true, 10, 3, false, true);
    StringReader input = new StringReader("M E M E M E S 4 W S 4 W M W M W M W M W q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a slight howl\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a great howl, seems monster is dead.\n"
        + "\n"
        + "You have Arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the E,  W,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testMonsterAtOneDistance5() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 10, true, 10, 3, false, true);
    StringReader input = new StringReader("M E M E M E M E S 5 W S 5 W M W M W M W M W M W q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a slight howl\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a great howl, seems monster is dead.\n"
        + "\n"
        + "You have Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the E,  W,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testTwoMonsterAtTwoDistance() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 10, true, 10, 4, false, true);
    StringReader input = new StringReader("M S q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testMonsterAtTwoDistance1AndArrowDoesNotBend() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 10, true, 10, 10, false, true);
    StringReader input = new StringReader("M S S 2 N q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testMonsterAtTwoDistance1AndArrowBend() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(5, 5, 5, false, 10, 10, false, true);
    StringReader input = new StringReader("M W S 1 S S 1 S P ARROW M S S 2 N S 2 N M N M E M E q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a tunnel\n"
        + "Doors lead to the E,  S\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a slight howl\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a tunnel\n"
        + "Doors lead to the E,  S\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a great howl, seems monster is dead.\n"
        + "\n"
        + "You have Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a tunnel\n"
        + "Doors lead to the E,  S\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a tunnel\n"
        + "Doors lead to the E,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  E\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a slight howl\n"
        + "\n"
        + "You have arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  E\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a great howl, seems monster is dead.\n"
        + "\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  E\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You smell monster in nearby cell\n"
        + "You are in a tunnel\n"
        + "Doors lead to the E,  S\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testPickUpTreasure() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 30, true, 20, 3, false, true);
    StringReader input = new StringReader("S 1 W S 1 W S 1 W M W P DIAMOND "
        + "M E P DIAMOND M E P DIAMOND M E P DIAMOND M E"
        + " P DIAMOND M E P DIAMOND M E P DIAMOND M E P SAPPHIRE M E P"
        + " SAPPHIRE M E P SAPPHIRE M S"
        + " P RUBY M W P RUBY M W P RUBY M W P RUBY M W "
        + " P RUBY M W P RUBY M W P RUBY M W P SAPPHIRE M W "
        + " P SAPPHIRE M W P SAPPHIRE M W q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a slight howl\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a great howl, seems monster is dead.\n"
        + "\n"
        + "You have Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You are in a cave\n"
        + "Doors lead to the E,  W,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND\n"
        + "You are in a cave\n"
        + "Doors lead to the E,  W,  N,  S\n"
        + "You find DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, "
        + "SAPPHIRE\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, "
        + "SAPPHIRE\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  N,  S,  E\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND,"
        + " SAPPHIRE, SAPPHIRE\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  N,  S,  E\n"
        + "You find SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND,"
        + " SAPPHIRE, SAPPHIRE\n"
        + "You are in a cave\n"
        + "Doors lead to the E,  N,  S,  W\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, "
        + "SAPPHIRE, SAPPHIRE, SAPPHIRE\n"
        + "You are in a cave\n"
        + "Doors lead to the E,  N,  S,  W\n"
        + "You find SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, "
        + "SAPPHIRE, SAPPHIRE, SAPPHIRE\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  E,  W\n"
        + "You find RUBY, RUBY, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, "
        + "SAPPHIRE, SAPPHIRE, SAPPHIRE, RUBY\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  E,  W\n"
        + "You find RUBY, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, "
        + "SAPPHIRE, SAPPHIRE, SAPPHIRE, RUBY\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "You find RUBY, RUBY, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, "
        + "SAPPHIRE, SAPPHIRE, SAPPHIRE, RUBY, RUBY\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "You find RUBY, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, "
        + "SAPPHIRE, SAPPHIRE, SAPPHIRE, RUBY, RUBY\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "You find RUBY, RUBY, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, "
        + "SAPPHIRE, SAPPHIRE, SAPPHIRE, RUBY, RUBY, RUBY\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "You find RUBY, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, "
        + "SAPPHIRE, SAPPHIRE, SAPPHIRE, RUBY, RUBY, RUBY\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "You find RUBY, RUBY, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, "
        + "SAPPHIRE, SAPPHIRE, SAPPHIRE, RUBY, RUBY, RUBY, RUBY\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "You find RUBY, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, "
        + "SAPPHIRE, SAPPHIRE, SAPPHIRE, RUBY, RUBY, RUBY, RUBY\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "You find RUBY, RUBY, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, "
        + "SAPPHIRE, SAPPHIRE, SAPPHIRE, RUBY, RUBY, RUBY, RUBY, RUBY\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "You find RUBY, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, "
        + "SAPPHIRE, SAPPHIRE, SAPPHIRE, RUBY, RUBY, RUBY, RUBY, RUBY\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "You find RUBY, RUBY, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, "
        + "SAPPHIRE, SAPPHIRE, SAPPHIRE, RUBY, RUBY, RUBY, RUBY, RUBY, RUBY\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "You find RUBY, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND,"
        + " SAPPHIRE, SAPPHIRE, SAPPHIRE, RUBY, RUBY, RUBY, RUBY, RUBY, RUBY\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "You find SAPPHIRE, RUBY, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, "
        + "SAPPHIRE, SAPPHIRE, SAPPHIRE, RUBY, RUBY, RUBY, RUBY, RUBY, RUBY, RUBY\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "You find SAPPHIRE, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, "
        + "SAPPHIRE, SAPPHIRE, SAPPHIRE, RUBY, RUBY, RUBY, RUBY, RUBY, RUBY, RUBY\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND,"
        + " SAPPHIRE, SAPPHIRE, SAPPHIRE, RUBY, RUBY, RUBY, RUBY, RUBY, RUBY, RUBY,"
        + " SAPPHIRE\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "You find SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND,"
        + " SAPPHIRE, SAPPHIRE, SAPPHIRE, RUBY, RUBY, RUBY, RUBY, RUBY, RUBY, RUBY, "
        + "SAPPHIRE\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND,"
        + " SAPPHIRE, SAPPHIRE, SAPPHIRE, RUBY, RUBY, RUBY, RUBY, RUBY, RUBY, RUBY,"
        + " SAPPHIRE, SAPPHIRE\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  W,  E\n"
        + "You find SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, "
        + "SAPPHIRE, SAPPHIRE, SAPPHIRE, RUBY, RUBY, RUBY, RUBY, RUBY, RUBY, RUBY, "
        + "SAPPHIRE, SAPPHIRE\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  E,  W\n"
        + "You find SAPPHIRE, SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "What ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND,"
        + " SAPPHIRE, SAPPHIRE, SAPPHIRE, RUBY, RUBY, RUBY, RUBY, RUBY, RUBY, RUBY, "
        + "SAPPHIRE, SAPPHIRE, SAPPHIRE\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  E,  W\n"
        + "You find SAPPHIRE, SAPPHIRE here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND, DIAMOND,"
        + " SAPPHIRE, SAPPHIRE, SAPPHIRE, RUBY, RUBY, RUBY, RUBY, RUBY, RUBY, RUBY,"
        + " SAPPHIRE, SAPPHIRE, SAPPHIRE\n"
        + "You are in a cave\n"
        + "Doors lead to the N,  S,  E,  W\n"
        + "You find RUBY, RUBY here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testMissingArrow() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 30, true, 20, 2, false, true);
    StringReader input = new StringReader("M E S 1 W S 1 W M W M W q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow, Arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "\n"
        + "You have Arrow\n"
        + "You found faint smell of monster\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "Game is over! Player loses.";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testPassesMonsterIfMonsterIsHalfKilled() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 30, true, 20, 2, false, true);
    StringReader input = new StringReader("S 1 W M W M E q");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a slight howl\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You are in a cave\n"
        + "Doors lead to the E,  W,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n";
    assertEquals(expected, gameLog.toString());
  }

  @Test
  public void testLosesMonsterIfMonsterIsHalfKilled() {
    IDungeon nonWrappingNonRandomDungeon = getDungeon(10, 10, 30, true, 20, 2, false, false);
    StringReader input = new StringReader("S 1 W M W");
    Appendable gameLog = new StringBuilder();
    DungeonConsoleController d = new DungeonConsoleController(input, gameLog);
    d.playGame(nonWrappingNonRandomDungeon);
    String expected =  "You have Arrow, Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "No. of caves (1-5)?\n"
        + "Where to?\n"
        + "You hear a slight howl\n"
        + "\n"
        + "You have Arrow, Arrow\n"
        + "You smell monster in nearby cell\n"
        + "You are in a cave\n"
        + "Doors lead to the W,  E,  N,  S\n"
        + "You find DIAMOND, DIAMOND, DIAMOND here\n"
        + "You find 1 arrow here\n"
        + "Move, Pickup, or Shoot (M-P-S)? \n"
        + "Where to ?\n"
        + "\n"
        + "\n"
        + "Game is over! Player loses.";
    assertEquals(expected, gameLog.toString());
  }
}


